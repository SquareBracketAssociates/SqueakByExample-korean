'From Squeak3.9gamma of ''23 July 2006'' [latest update: #7061] on 12 November 2006 at 3:19:45 pm'!BorderedMorph subclass: #DiceMorph	instanceVariableNames: 'face diceValue isStopped'	classVariableNames: ''	poolDictionaries: ''	category: 'LesMorph'!!DiceMorph commentStamp: '<historical>' prior: 0!Widget pour simuler un dé à jouer.!!DiceMorph methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 16:57'!color: aColor	color := aColor.	self fillStyle 		colorRamp: {0.0->color darker darker darker darker darker. 1.0->color}.	self changed! !!DiceMorph methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 16:17'!diceValue	"Answer the value of diceValue"	^ diceValue! !!DiceMorph methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 22:14'!diceValue: anObject	"Set the value of diceValue"	(anObject isInteger and: [anObject > 0] and: [anObject <= face])		ifTrue: 			[diceValue := anObject.			self changed]! !!DiceMorph methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 15:54'!face	"Answer the value of face"	^ face! !!DiceMorph methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 22:19'!face: anObject	"Set the number of face"	(anObject isInteger and: [anObject > 0] and: [anObject <= 9])		ifTrue: [face := anObject]! !!DiceMorph methodsFor: 'drawing' stamp: 'HilaireFernandes 8/7/2006 17:16'!drawDotOn: aCanvas at: aPoint	aCanvas 		fillOval: 			(Rectangle 				center: (self position + (self extent * aPoint)) 				extent: self extent / 6) 		color: Color black! !!DiceMorph methodsFor: 'drawing' stamp: 'HilaireFernandes 11/12/2006 12:44'!drawOn: aCanvas 	super drawOn: aCanvas.	(self perform: ('face' , diceValue asString) asSymbol)		do: [:aPoint | self drawDotOn: aCanvas at: aPoint]! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 16:35'!face1	^{0.5@0.5}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:00'!face2	^{0.25@0.25 . 0.75@0.75}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 16:59'!face3	^{0.25@0.25 . 0.75@0.75 . 0.5@0.5}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:00'!face4	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:00'!face5	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75 . 0.5@0.5}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:01'!face6	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75 . 0.25@0.5 . 0.75@0.5}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:02'!face7	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75 . 0.25@0.5 . 0.75@0.5 . 0.5@0.5}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:03'!face8	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75 . 0.25@0.5 . 0.75@0.5 . 0.5@0.5 . 0.5@0.25}! !!DiceMorph methodsFor: 'dot-position' stamp: 'HilaireFernandes 8/7/2006 17:03'!face9	^{0.25@0.25 . 0.75@0.25 . 0.75@0.75 . 0.25@0.75 . 0.25@0.5 . 0.75@0.5 . 0.5@0.5 . 0.5@0.25 . 0.5@0.75}! !!DiceMorph methodsFor: 'initialization' stamp: 'HilaireFernandes 11/12/2006 12:25'!initialize	super initialize.	self extent: 50 @ 50.	self useGradientFill; borderWidth: 2; useRoundedCorners.	self setBorderStyle: #complexRaised.	self fillStyle direction: self extent.	self color: Color green.	diceValue := 1.	face := 6.	isStopped := false! !!DiceMorph methodsFor: 'stepping and presenter' stamp: 'HilaireFernandes 11/12/2006 15:12'!step	isStopped ifFalse: [self diceValue: (1 to: face) atRandom]! !!DiceMorph methodsFor: 'testing' stamp: 'HilaireFernandes 11/12/2006 12:15'!stepTime	^ 100! !!DiceMorph methodsFor: 'event handling' stamp: 'HilaireFernandes 11/12/2006 15:10'!handlesMouseDown: anEvent 	^ true! !!DiceMorph methodsFor: 'event handling' stamp: 'HilaireFernandes 11/12/2006 15:11'!mouseDown: evt 	evt redButtonPressed		ifTrue: [isStopped := isStopped not].! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!DiceMorph class	instanceVariableNames: ''!!DiceMorph class methodsFor: 'accessing' stamp: 'HilaireFernandes 8/7/2006 15:54'!face: aNumber	^self new face: aNumber! !